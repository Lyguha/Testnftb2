local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local auto = 0
local autoFarmEnabled = false
local currentMoney = 0

-- –ü–æ–ª—É—á–∞–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏–≥—Ä—ã
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∫–µ–π—Å–æ–≤ —Å —Ü–µ–Ω–∞–º–∏ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
local casesDatabase = {
    -- –û–±—ã—á–Ω—ã–µ –∫–µ–π—Å—ã (–ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é —Ü–µ–Ω—ã)
    ["Beggar"] = {price = 220, priority = 1},
    ["Plodder"] = {price = 444, priority = 2},
    ["Office Clerk"] = {price = 689, priority = 3},
    ["Manager"] = {price = 835, priority = 4},
    ["Director"] = {price = 926, priority = 5},
    ["Oligarch"] = {price = 1364, priority = 6},
    
    -- NFT –∫–µ–π—Å—ã
    ["Gold"] = {price = 1999, priority = 7},
    ["Dark"] = {price = 4999, priority = 8},
    ["Palm"] = {price = 13999, priority = 9},
    ["Buri"] = {price = 37999, priority = 10},
    ["Luxury"] = {price = 119999, priority = 11},
    
    -- –ê–≤—Ç–æ–º–æ–±–∏–ª–∏
    ["M5 F90"] = {price = 55555, priority = 12},
    ["G63"] = {price = 177777, priority = 13},
    ["Porsche 911"] = {price = 599999, priority = 14},
    ["URUS"] = {price = 1666666, priority = 15},
    
    -- SPECIAL CASES
    ["Frozen Heart"] = {price = 4500, priority = 16},
    ["Bubble Gum"] = {price = 12000, priority = 17},
    ["Cats"] = {price = 40000, priority = 18},
    ["Glitch"] = {price = 135000, priority = 19},
    ["Dream"] = {price = 250000, priority = 20},
    ["Bloody Night"] = {price = 5000000, priority = 21}
}

-- –ö—ç—à –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ –∫–µ–π—Å–æ–≤
local caseProfitabilityCache = {}
local caseAnalysisCount = {}

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–µ–Ω–µ–≥ –∏–∑ –∏–≥—Ä—ã
local function getMoney()
    local success, result = pcall(function()
        local starsValue = LocalPlayer:WaitForChild("_StarsValue")
        return starsValue.Value
    end)
    
    if success then
        return result
    else
        warn("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–µ–Ω–µ–≥: " .. tostring(result))
        return currentMoney
    end
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–µ–π—Å–æ–≤ –∏–∑ –∏–≥—Ä—ã
local function getAvailableCases()
    local availableCases = {}
    
    -- –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –∫–µ–π—Å—ã –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Å—Ç –≤ –∏–≥—Ä–µ
    local success, result = pcall(function()
        -- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –º–µ—Å—Ç–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–µ–π—Å–∞—Ö
        local possibleLocations = {
            ReplicatedStorage,
            workspace,
            LocalPlayer,
            game:GetService("Lighting")
        }
        
        for _, location in ipairs(possibleLocations) do
            for _, child in ipairs(location:GetChildren()) do
                if casesDatabase[child.Name] then
                    availableCases[child.Name] = casesDatabase[child.Name]
                end
            end
        end
        
        -- –¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º —á–µ—Ä–µ–∑ RemoteEvents/RemoteFunctions
        local events = ReplicatedStorage:FindFirstChild("Events")
        if events then
            for _, event in ipairs(events:GetChildren()) do
                if event.Name == "OpenCase" then
                    -- –ï—Å–ª–∏ –µ—Å—Ç—å –∏–≤–µ–Ω—Ç –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞, –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º —á—Ç–æ –≤—Å–µ –∫–µ–π—Å—ã –∏–∑ –±–∞–∑—ã –¥–æ—Å—Ç—É–ø–Ω—ã
                    for caseName, caseData in pairs(casesDatabase) do
                        availableCases[caseName] = caseData
                    end
                    break
                end
            end
        end
        
        return availableCases
    end)
    
    if success and next(availableCases) ~= nil then
        return availableCases
    else
        -- –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–µ–π—Å—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å—é –±–∞–∑—É
        warn("–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–µ–π—Å—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–Ω—É—é –±–∞–∑—É")
        return casesDatabase
    end
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ –∫–µ–π—Å–∞
local function analyzeCaseProfitability(caseName, caseData)
    if caseProfitabilityCache[caseName] and caseAnalysisCount[caseName] and caseAnalysisCount[caseName] > 10 then
        return caseProfitabilityCache[caseName]
    end
    
    local profitabilityScore = 0
    local basePrice = caseData.price
    
    -- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏—Å—Ç–æ—Ä–∏—é –æ—Ç–∫—Ä—ã—Ç–∏–π —ç—Ç–æ–≥–æ –∫–µ–π—Å–∞
    local totalProfit = 0
    local openCount = caseAnalysisCount[caseName] or 0
    
    -- –ï—Å–ª–∏ —É –Ω–∞—Å –º–∞–ª–æ –¥–∞–Ω–Ω—ã—Ö –æ–± —ç—Ç–æ–º –∫–µ–π—Å–µ, –∏—Å–ø–æ–ª—å–∑—É–µ–º —ç–≤—Ä–∏—Å—Ç–∏–∫—É
    if openCount < 5 then
        -- –≠–≤—Ä–∏—Å—Ç–∏–∫–∞: –±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–∏–µ –∫–µ–π—Å—ã –æ–±—ã—á–Ω–æ –∏–º–µ—é—Ç –ª—É—á—à—É—é –æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å
        -- –Ω–æ —Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–µ–≥–æ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∫–∞–ø–∏—Ç–∞–ª–∞
        profitabilityScore = (caseData.priority * 10) / math.max(1, basePrice / 1000)
        
        -- –£—á–∏—Ç—ã–≤–∞–µ–º —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å - –º–æ–∂–µ–º –ª–∏ –º—ã –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ—Ä–∏—é –æ—Ç–∫—Ä—ã—Ç–∏–π
        if currentMoney >= basePrice * 3 then
            profitabilityScore = profitabilityScore * 1.5
        elseif currentMoney >= basePrice * 5 then
            profitabilityScore = profitabilityScore * 2.0
        end
    else
        -- –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–± –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏
        profitabilityScore = totalProfit / math.max(1, openCount)
    end
    
    caseProfitabilityCache[caseName] = profitabilityScore
    return profitabilityScore
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–µ–π—Å–∞
local function getOptimalCase()
    local availableCases = getAvailableCases()
    local bestCase = nil
    local bestScore = -math.huge
    
    for caseName, caseData in pairs(availableCases) do
        -- –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫–µ–π—Å—ã –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–æ–∂–µ–º –ø–æ–∑–≤–æ–ª–∏—Ç—å
        if caseData.price <= currentMoney then
            local profitability = analyzeCaseProfitability(caseName, caseData)
            local affordability = currentMoney / caseData.price
            
            -- –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π score: –æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å + –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è
            local combinedScore = profitability * math.min(affordability, 10)
            
            if combinedScore > bestScore then
                bestScore = combinedScore
                bestCase = caseName
            end
        end
    end
    
    -- –ï—Å–ª–∏ –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∫–µ–π—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∞–º—ã–π –¥–µ—à–µ–≤—ã–π –¥–æ—Å—Ç—É–ø–Ω—ã–π
    if not bestCase then
        local cheapestPrice = math.huge
        for caseName, caseData in pairs(availableCases) do
            if caseData.price < cheapestPrice then
                cheapestPrice = caseData.price
                bestCase = caseName
            end
        end
    end
    
    return bestCase
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–µ–π—Å–∞ –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è
local function updateCaseStats(caseName, profit)
    if not caseAnalysisCount[caseName] then
        caseAnalysisCount[caseName] = 0
        caseProfitabilityCache[caseName] = 0
    end
    
    local currentCount = caseAnalysisCount[caseName]
    local currentProfit = caseProfitabilityCache[caseName] or 0
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ä–µ–¥–Ω—é—é –æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å
    caseProfitabilityCache[caseName] = (currentProfit * currentCount + profit) / (currentCount + 1)
    caseAnalysisCount[caseName] = currentCount + 1
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –≤—Å–µ—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
local function sellAllItems()
    local totalProfit = 0
    local success, errorMsg = pcall(function()
        local args = {
            "Sell",
            "ALL"
        }
        game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("Inventory"):FireServer(unpack(args))
        
        -- –ü–æ—Å–ª–µ –ø—Ä–æ–¥–∞–∂–∏ –æ–±–Ω–æ–≤–ª—è–µ–º –¥–µ–Ω—å–≥–∏
        local oldMoney = currentMoney
        currentMoney = getMoney()
        totalProfit = currentMoney - oldMoney
    end)
    
    if success then
        print("–£—Å–ø–µ—à–Ω–æ –ø—Ä–æ–¥–∞–Ω—ã –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã, –ø—Ä–∏–±—ã–ª—å: " .. totalProfit)
        return true, totalProfit
    else
        warn("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤: " .. tostring(errorMsg))
        return false, 0
    end
end

-- –§—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–∞—Ä–º–∞
local function autoFarmCases()
    local lastCase = nil
    local consecutiveOpens = 0
    
    while autoFarmEnabled do
        local optimalCase = getOptimalCase()
        
        if optimalCase then
            local caseData = casesDatabase[optimalCase]
            local moneyBefore = currentMoney
            
            if optimalCase ~= lastCase then
                print("–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –Ω–æ–≤—ã–π –∫–µ–π—Å: " .. optimalCase .. " (—Ü–µ–Ω–∞: " .. caseData.price .. ")")
                consecutiveOpens = 0
            end
            
            lastCase = optimalCase
            
            -- –û—Ç–∫—Ä—ã–≤–∞–µ–º –∫–µ–π—Å
            local openSuccess, openError = pcall(function()
                local args = {
                    optimalCase,
                    1  -- –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–æ –æ–¥–Ω–æ–º—É –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
                }
                game:GetService("ReplicatedStorage"):WaitForChild("Events"):WaitForChild("OpenCase"):InvokeServer(unpack(args))
            end)
            
            if openSuccess then
                consecutiveOpens = consecutiveOpens + 1
                
                -- –ñ–¥–µ–º –Ω–µ–º–Ω–æ–≥–æ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∂–µ–π
                wait(0.3)
                
                -- –ü—Ä–æ–¥–∞–µ–º –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã
                local sellSuccess, profit = sellAllItems()
                
                if sellSuccess then
                    -- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å —ç—Ç–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è
                    local actualProfit = profit - caseData.price
                    updateCaseStats(optimalCase, actualProfit)
                    
                    print(string.format("–û—Ç–∫—Ä—ã—Ç %s | –ü—Ä–∏–±—ã–ª—å: %d | –ë–∞–ª–∞–Ω—Å: %d", 
                          optimalCase, actualProfit, currentMoney))
                end
                
                -- –ï—Å–ª–∏ –º—ã –æ—Ç–∫—Ä—ã–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –∫–µ–π—Å–æ–≤ –ø–æ–¥—Ä—è–¥ –∏ –±–∞–ª–∞–Ω—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç,
                -- –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–µ –ø–æ—Ä–∞ –ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–æ–π –∫–µ–π—Å
                if consecutiveOpens >= 3 then
                    local newOptimal = getOptimalCase()
                    if newOptimal ~= optimalCase then
                        print("–û–±–Ω–∞—Ä—É–∂–µ–Ω –±–æ–ª–µ–µ –≤—ã–≥–æ–¥–Ω—ã–π –∫–µ–π—Å: " .. newOptimal)
                    end
                end
                
            else
                warn("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –∫–µ–π—Å–∞ " .. optimalCase .. ": " .. tostring(openError))
            end
            
            -- –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∏—Ç–µ—Ä–∞—Ü–∏–π
            auto += 1
            
        else
            warn("–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∫–µ–π—Å –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è")
        end
        
        -- –ñ–¥–µ–º –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–µ–π
        wait(0.5)
    end
end

local Window = Rayfield:CreateWindow({
   Name = "–£–º–Ω—ã–π –∞–≤—Ç–æ—Ñ–∞—Ä–º –∫–µ–π—Å–æ–≤",
   Icon = 0,
   LoadingTitle = "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ–∞—Ä–º–∞",
   LoadingSubtitle = "by Sirius",
   ShowText = "–ê–Ω–∞–ª–∏–∑ –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏",
   Theme = "Default",
   ToggleUIKeybind = "K",
   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,
   ConfigurationSaving = {
      Enabled = false,
      FolderName = nil,
      FileName = "Smart Farm Hub"
   },
   Discord = {
      Enabled = false,
      Invite = "noinvitelink",
      RememberJoins = true
   },
   KeySystem = false
})

local Tab8 = Window:CreateTab("–£–º–Ω—ã–π –ê–≤—Ç–æ –§–∞—Ä–º", "settings")
local Tab9 = Window:CreateTab("–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", "chart-bar")
local Tab1 = Window:CreateTab("Credits", "creative-commons")
local Tab2 = Window:CreateTab("Info", "book-text")

-- –≠–ª–µ–º–µ–Ω—Ç—ã –≤–∫–ª–∞–¥–∫–∏ –£–º–Ω—ã–π –ê–≤—Ç–æ –§–∞—Ä–º
local Label = Tab8:CreateLabel("–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ñ–∞—Ä–º–∞ –∫–µ–π—Å–æ–≤")
local Label = Tab8:CreateLabel("–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∫–µ–π—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏")
local Label = Tab8:CreateLabel("–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–∞–º—ã–π –ø—Ä–∏–±—ã–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç")

local CurrentMoneyLabel = Tab8:CreateLabel("–¢–µ–∫—É—â–∏–µ –¥–µ–Ω—å–≥–∏: 0")
local CurrentCaseLabel = Tab8:CreateLabel("–¢–µ–∫—É—â–∏–π –∫–µ–π—Å: –û–∂–∏–¥–∞–Ω–∏–µ...")
local ProfitabilityLabel = Tab8:CreateLabel("–û–∫—É–ø–∞–µ–º–æ—Å—Ç—å: –ê–Ω–∞–ª–∏–∑...")

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
local function updateStatsDisplay()
    currentMoney = getMoney()
    CurrentMoneyLabel:Set("–¢–µ–∫—É—â–∏–µ –¥–µ–Ω—å–≥–∏: " .. tostring(currentMoney))
    
    if autoFarmEnabled then
        local optimalCase = getOptimalCase()
        if optimalCase then
            CurrentCaseLabel:Set("–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –∫–µ–π—Å: " .. optimalCase)
            local score = analyzeCaseProfitability(optimalCase, casesDatabase[optimalCase])
            ProfitabilityLabel:Set("–û—Ü–µ–Ω–∫–∞ –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏: " .. string.format("%.2f", score))
        end
    end
end

-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ —É–º–Ω–æ–≥–æ –∞–≤—Ç–æ—Ñ–∞—Ä–º–∞
local ToggleButton = Tab8:CreateToggle({
    Name = "–ó–∞–ø—É—Å–∫ —É–º–Ω–æ–≥–æ –∞–≤—Ç–æ—Ñ–∞—Ä–º–∞",
    CurrentValue = false,
    Flag = "SmartAutoFarmToggle",
    Callback = function(Value)
        autoFarmEnabled = Value
        if Value then
            Rayfield:Notify({
                Title = "–£–º–Ω—ã–π –∞–≤—Ç–æ—Ñ–∞—Ä–º –∑–∞–ø—É—â–µ–Ω",
                Content = "–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∫–µ–π—Å—ã",
                Duration = 3,
                Image = "üß†",
            })
            coroutine.wrap(autoFarmCases)()
        else
            Rayfield:Notify({
                Title = "–ê–≤—Ç–æ—Ñ–∞—Ä–º –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω",
                Content = "–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —Ñ–∞—Ä–º –æ—Ç–∫–ª—é—á–µ–Ω",
                Duration = 3,
                Image = "‚úó",
            })
        end
    end,
})

-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫–µ–π—Å–æ–≤
local Button = Tab8:CreateButton({
    Name = "–û–±–Ω–æ–≤–∏—Ç—å –∞–Ω–∞–ª–∏–∑ –∫–µ–π—Å–æ–≤",
    Callback = function()
        -- –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∫—ç—à –¥–ª—è –ø–µ—Ä–µ–∞–Ω–∞–ª–∏–∑–∞
        caseProfitabilityCache = {}
        updateStatsDisplay()
        Rayfield:Notify({
            Title = "–ê–Ω–∞–ª–∏–∑ –æ–±–Ω–æ–≤–ª–µ–Ω",
            Content = "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–∞",
            Duration = 3,
            Image = "‚úì",
        })
    end,
})

-- –≠–ª–µ–º–µ–Ω—Ç—ã –≤–∫–ª–∞–¥–∫–∏ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
local StatsLabel = Tab9:CreateLabel("–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ –∫–µ–π—Å–æ–≤:")
local CaseStatsLabels = {}

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–µ–π—Å–æ–≤
local function updateCaseStatsDisplay()
    for _, label in pairs(CaseStatsLabels) do
        label:Destroy()
    end
    CaseStatsLabels = {}
    
    local sortedCases = {}
    for caseName, _ in pairs(casesDatabase) do
        table.insert(sortedCases, caseName)
    end
    table.sort(sortedCases, function(a, b)
        return casesDatabase[a].price < casesDatabase[b].price
    end)
    
    for i, caseName in ipairs(sortedCases) do
        local count = caseAnalysisCount[caseName] or 0
        local profit = caseProfitabilityCache[caseName] or 0
        local text = string.format("%s: %d –æ—Ç–∫—Ä—ã—Ç–∏–π, –æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å: %.1f", 
            caseName, count, profit)
        local label = Tab9:CreateLabel(text)
        table.insert(CaseStatsLabels, label)
    end
end

-- –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
local Button = Tab9:CreateButton({
    Name = "–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É",
    Callback = function()
        updateCaseStatsDisplay()
    end,
})

-- –û—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞...
local Label = Tab1:CreateLabel("–ö–æ–¥–µ—Ä: –ê–≤–µ–¥")
local Label = Tab1:CreateLabel("–¢–µ—Å—Ç–µ—Ä: –ê–≤–µ–¥, –î—ç–º—ç–Ω—Ç—ã–π")
local Label = Tab1:CreateLabel("–ì—É–∏: Sirius")
local Label = Tab1:CreateLabel("–ê–ª–≥–æ—Ä–∏—Ç–º: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏")

local Label = Tab2:CreateLabel("–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã:")
local Label = Tab2:CreateLabel("‚Ä¢ –ê–Ω–∞–ª–∏–∑ –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏")
local Label = Tab2:CreateLabel("‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –±–æ–ª–µ–µ –¥–æ—Ä–æ–≥–∏–µ –∫–µ–π—Å—ã")
local Label = Tab2:CreateLabel("‚Ä¢ –£—á–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã—Ö –æ—Ç–∫—Ä—ã—Ç–∏–π")
local Label = Tab2:CreateLabel("‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–∏–ø—É –∫–µ–π—Å–æ–≤")

Rayfield:Notify({
   Title = "–£–ú–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ó–ê–ü–£–©–ï–ù–ê",
   Content = "–ê–ª–≥–æ—Ä–∏—Ç–º –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∫–µ–π—Å–∞",
   Duration = 6.5,
   Image = "üß†",
})

-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
coroutine.wrap(function()
    while true do
        updateStatsDisplay()
        wait(2)
    end
end)()
